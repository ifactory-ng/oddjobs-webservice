var schema = require('../conf/schema');
var User = schema.userModel;
var Shop = schema.shopModel;
exports.user = function(req, res){
	var id = req.params.id;
	User.findOne({authid: id}, function(err, user){
		if (err){
			console.log(err);
		}
		res.json(200, user);
	});
	
};

exports.infoUpdate = function(req, res){
	var obj = req.body;
	User.findByIdAndUpdate(req.params.id, {
		$set: obj
	}, function(err, obj){
		if(err){
			console.log("bad credentials");
		next(err);
			
		}
		res.json(200, obj);
	}
);
};

exports.createShop = function(req, res){
	var id = req.params.id;
	var data = req.body;
	Shop.findByIdAndUpdate(id, {
		$set: data
	}, function(err, data){
		if(err){
			console.log("error");
			next(err);
		}
		res.json(200, data);
	});
};
